<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>대야미역 금강펜테리움 레이크포레 | 청약 정보 분석</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="군포 대야미역 금강펜테리움 레이크포레 아파트 청약 정보를 완벽 분석합니다. 분양가, 입지, 특별공급, 일반공급 청약 자격과 유의사항을 확인하세요.">
    <meta name="keywords" content="대야미역 금강펜테리움, 군포 청약, 대야미 공공주택지구, 아파트 분양, 청약 자격, 분양가 상한제, GTX-C">
    <meta name="author" content="우리의 일상로그">
    <link rel="canonical" href="https://ourvlog.github.io/apt/2025000287.html">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="대야미역 금강펜테리움 레이크포레 | 청약 완벽 분석">
    <meta property="og:description" content="분양가 상한제, GTX-C 호재! 군포 대야미역 금강펜테리움의 모든 것을 확인하고 청약 자격을 진단해보세요.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ourvlog.github.io/apt/2025000287.html">
    <meta property="og:image" content="https://ourvlog.github.io/assets/images/og-image-deyami.png"> 

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral Harmony -->
    <!-- Application Structure Plan: A single-page dashboard with a sticky top navigation for quick access to thematic sections: Key Info, Interactive Pricing/Supply, Tabbed Location Analysis, Unit Type Details, an innovative Eligibility Checker, and a Final Summary. This non-linear, task-oriented structure is chosen to empower users to quickly find and interact with the information most relevant to them, which is more effective than a passive, linear blog format for complex decision-making. -->
    <!-- Visualization & Content Choices: [Report Info: Unit Prices -> Goal: Compare -> Viz: Bar Chart -> Interaction: Filter by unit type -> Justification: Easy visual comparison of costs -> Library: Chart.js(Canvas)], [Report Info: Supply Numbers -> Goal: Understand distribution -> Viz: Stacked Bar Chart -> Interaction: Hover tooltips -> Justification: Clearly shows special vs. general supply per unit type -> Library: Chart.js(Canvas)], [Report Info: Eligibility Rules -> Goal: Self-assess -> Presentation: Interactive Form -> Interaction: Conditional questions -> Justification: Active engagement leads to better understanding than passive reading -> Method: Vanilla JS], [Report Info: Schedule -> Goal: Inform -> Viz: Horizontal Timeline -> Interaction: None -> Justification: Clear visual flow of important dates -> Method: HTML/CSS]. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #F8F7F4;
            color: #383838;
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .nav-link.active, .nav-link:hover {
            color: #6D8B74;
            border-bottom-color: #6D8B74;
        }
        .tab-btn {
            transition: all 0.3s;
        }
        .tab-btn.active {
            background-color: #6D8B74;
            color: #FFFFFF;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .card {
            background-color: #FFFFFF;
            border: 1px solid #E5E1DA;
        }
        .highlight-text {
            color: #A47E3B;
        }
        .form-input {
            margin-top: 4px;
            display: block;
            width: 100%;
            padding: 8px 12px;
            font-size: 0.875rem;
            border-radius: 0.375rem;
            border: 1px solid #D1D5DB;
        }
        .form-input:focus {
            outline: none;
            --tw-ring-color: #6D8B74;
            border-color: #6D8B74;
        }
    </style>
</head>
<body class="antialiased">

    <div id="header-placeholder"></div>

    <main class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <section id="hero" class="text-center mb-16">
            <h2 class="text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl">대야미역 금강펜테리움 레이크포레</h2>
            <p class="mt-4 text-lg text-gray-600">분양가 상한제 적용, GTX-C 호재를 품은 군포의 새로운 중심</p>
            <div class="mt-6 flex justify-center items-center space-x-4">
                <a href="https://www.applyhome.co.kr/ai/aia/selectAPTLttotPblancDetail.do?houseManageNo=2025000287&pblancNo=2025000287" target="_blank" class="bg-green-700 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-800 transition duration-300">
                    청약 공고 보러가기
                </a>
            </div>
             <div class="mt-6 flex justify-center space-x-4">
                <span class="inline-block bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full">#분양가상한제</span>
                <span class="inline-block bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full">#4호선역세권</span>
                <span class="inline-block bg-purple-100 text-purple-800 text-sm font-medium px-3 py-1 rounded-full">#GTX-C호재</span>
            </div>
        </section>

        <div class="space-y-12">
            <section id="info" class="scroll-mt-20">
                <div class="card rounded-xl p-6 shadow-md">
                    <h3 class="text-2xl font-bold mb-6 text-center">한눈에 보는 핵심 정보 📌</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="text-lg font-semibold mb-4 text-center">기본 정보</h4>
                            <ul class="space-y-3 text-gray-700">
                                <li class="flex justify-between"><span><strong>단지명:</strong></span> <span>대야미역 금강펜테리움 레이크포레</span></li>
                                <li class="flex justify-between"><span><strong>건설사:</strong></span> <span>(주)금강주택</span></li>
                                <li class="flex justify-between"><span><strong>위치:</strong></span> <span>군포대야미 공공주택지구 B1블럭</span></li>
                                <li class="flex justify-between"><span><strong>총 세대수:</strong></span> <span>502세대 (일반분양 452세대)</span></li>
                                <li class="flex justify-between"><span><strong>입주 예정:</strong></span> <span class="font-bold highlight-text">2028년 5월</span></li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="text-lg font-semibold mb-4 text-center">핵심 청약 일정 ⏰</h4>
                            <div class="relative">
                                <div class="absolute left-1/2 w-0.5 h-full bg-gray-200"></div>
                                <div id="timeline-container" class="space-y-4"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="price" class="scroll-mt-20">
                <div class="card rounded-xl p-6 shadow-md">
                    <h3 class="text-2xl font-bold mb-2 text-center">분양가 및 공급 정보 💰</h3>
                    <p class="text-center text-gray-500 mb-6">타입별 분양가와 세대수 분포를 확인해보세요.</p>
                    <div class="flex justify-center mb-6">
                        <div id="unitTypeButtons" class="inline-flex rounded-md shadow-sm" role="group"></div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                        <div>
                            <h4 class="text-lg font-semibold mb-4 text-center">최고 분양가 비교</h4>
                            <div class="chart-container">
                                <canvas id="priceChart"></canvas>
                            </div>
                        </div>
                        <div>
                            <h4 class="text-lg font-semibold mb-4 text-center">타입별 세대수</h4>
                            <div class="chart-container">
                                <canvas id="supplyChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="mt-8 overflow-x-auto">
                        <table class="w-full text-sm text-left text-gray-500">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                <tr>
                                    <th scope="col" class="px-6 py-3">항목</th>
                                    <th scope="col" class="px-6 py-3 text-right">금액</th>
                                </tr>
                            </thead>
                            <tbody id="priceDetails">
                            </tbody>
                        </table>
                        <p class="text-xs text-red-500 mt-2 text-center">※ 위 분양가는 최고가 기준이며, 발코니 확장비 및 유상옵션은 별도입니다.</p>
                    </div>
                </div>
            </section>

            <section id="location" class="scroll-mt-20">
                 <div class="card rounded-xl p-6 shadow-md">
                    <h3 class="text-2xl font-bold mb-2 text-center">입지 환경 분석 🧐</h3>
                    <p class="text-center text-gray-500 mb-6">'그래서 나에게 좋은가?' 관점에서 입지를 심층 분석합니다.</p>
                    <div class="mb-6 border-b border-gray-200">
                        <nav id="locationTabs" class="-mb-px flex justify-center space-x-2 sm:space-x-4" aria-label="Tabs">
                        </nav>
                    </div>
                    <div id="locationContent">
                    </div>
                </div>
            </section>
            
            <section id="eligibility" class="scroll-mt-20">
                <div class="card rounded-xl p-6 shadow-md">
                    <h3 class="text-2xl font-bold mb-2 text-center">나의 청약 자격 확인하기 🙋‍♂️</h3>
                    <p class="text-center text-gray-500 mb-6">아래 정보를 입력하여 청약 자격 가능성을 확인해보세요.</p>
                    <div class="max-w-2xl mx-auto space-y-4" id="eligibilityForm">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">공급 유형</label>
                            <select id="supplyType" class="form-input">
                                <option value="">선택</option>
                                <option value="special">특별공급</option>
                                <option value="general">일반공급</option>
                            </select>
                        </div>
                        <div id="specialTypeContainer" class="hidden">
                            <label class="block text-sm font-medium text-gray-700">특별공급 유형</label>
                            <select id="specialType" class="form-input">
                                <option value="">선택</option>
                                <option value="newlywed">신혼부부</option>
                                <option value="firstTime">생애최초</option>
                            </select>
                        </div>
                        
                        <div id="commonQuestions" class="hidden space-y-4">
                             <div>
                                <label class="block text-sm font-medium text-gray-700">거주지</label>
                                <select id="residence" class="form-input">
                                    <option value="gunpo">군포시 1년 이상 거주</option>
                                    <option value="metro">수도권(군포 1년 미만, 서울, 인천, 경기)</option>
                                    <option value="other">기타</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">무주택 여부</label>
                                <select id="isHomeless" class="form-input">
                                    <option value="yes">무주택 세대구성원</option>
                                    <option value="one">1주택 세대구성원</option>
                                    <option value="many">2주택 이상 세대구성원</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">청약통장 가입기간 (개월)</label>
                                <input type="number" id="subscriptionPeriod" class="form-input" placeholder="예: 24">
                            </div>
                        </div>

                        <div id="specialQuestions" class="hidden space-y-4">
                             <div id="marriageStatusContainer">
                                <label class="block text-sm font-medium text-gray-700">혼인상태</label>
                                <select id="marriageStatus" class="form-input">
                                     <option value="married">기혼</option>
                                     <option value="unmarried">미혼 (자녀 있음)</option>
                                     <option value="single">미혼 (1인 가구)</option>
                                </select>
                            </div>
                             <div id="marriageDurationContainer" class="hidden">
                                <label class="block text-sm font-medium text-gray-700">혼인 기간 (년)</label>
                                <input type="number" id="marriageDuration" class="form-input" placeholder="예: 5">
                            </div>
                            <div id="taxHistoryContainer" class="hidden">
                                <label class="block text-sm font-medium text-gray-700">과거 5년간 소득세 납부 여부</label>
                                <select id="taxHistory" class="form-input">
                                    <option value="yes">예</option>
                                    <option value="no">아니요</option>
                                </select>
                            </div>
                        </div>

                        <button id="checkButton" class="mt-6 w-full bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300">자격 확인</button>
                        <div id="resultContainer" class="hidden mt-6 p-4 rounded-md text-center"></div>
                    </div>
                </div>
            </section>
            
            <section id="summary" class="scroll-mt-20">
                <div class="card rounded-xl p-6 shadow-md">
                    <h3 class="text-2xl font-bold mb-6 text-center">최종 정리 및 총평 ⚖️</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="text-lg font-semibold mb-4 text-center text-green-700">👍 장점</h4>
                            <ul class="list-disc list-inside space-y-2 text-gray-700">
                                <li><strong class="text-green-600">확실한 가격 경쟁력:</strong> 분양가 상한제 적용으로 주변 시세 대비 저렴.</li>
                                <li><strong class="text-green-600">미래가치 높은 교통:</strong> 4호선 역세권에 GTX-C라는 강력한 교통 호재.</li>
                                <li><strong class="text-green-600">쾌적한 자연환경:</strong> 호수와 산을 곁에 둔 숲세권 힐링 라이프.</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="text-lg font-semibold mb-4 text-center text-red-700">👎 단점</h4>
                            <ul class="list-disc list-inside space-y-2 text-gray-700">
                                <li><strong class="text-red-600">현재의 인프라 부족:</strong> 입주 초기 편의시설이 부족할 수 있음.</li>
                                <li><strong class="text-red-600">아쉬운 학군:</strong> 초등학교가 단지 밖에 위치하며 임시 배정.</li>
                                <li><strong class="text-red-600">주변 환경:</strong> 인근에 송전탑과 축사 존재.</li>
                            </ul>
                        </div>
                    </div>
                    <div class="mt-8 border-t pt-6">
                        <p class="text-center font-semibold text-lg">👨‍⚖️ "우리의 일상로그" 총평</p>
                        <p class="mt-2 text-center text-gray-600">
                           이러한 특징을 종합해볼 때, <strong class="highlight-text">[대야미역 금강펜테리움 레이크포레]</strong>는 합리적인 가격으로 수도권 역세권 신축에 진입하고, GTX-C를 통한 장기적인 가치 상승을 기대하는 <strong class="highlight-text">3040 실수요자</strong>에게 가장 매력적인 선택지가 될 것입니다. 현재의 편의성보다는 미래 가치에 투자하고, 쾌적한 자연환경 속 거주를 원한다면 적극적으로 청약을 노려보시길 추천합니다!
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <div id="footer-placeholder"></div>
    <script src="/js/common.js" defer></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const apartmentData = {
                '61': { price: 49800, supply: 47, special: 27, general: 20 },
                '63': { price: 50470, supply: 48, special: 29, general: 19 },
                '84A': { price: 70340, supply: 176, special: 127, general: 48 },
                '84B': { price: 70260, supply: 138, special: 90, general: 48 },
                '84C': { price: 70310, supply: 43, special: 26, general: 17 }
            };

            const scheduleData = [
                { date: '2025-07-18', event: '모집 공고' },
                { date: '2025-07-28', event: '특별공급 접수' },
                { date: '2025-07-29', event: '1순위 접수' },
                { date: '2025-08-05', event: '당첨자 발표' },
                { date: '2025-08-18', event: '계약 체결' }
            ];
            
            const locationData = {
                transport: {
                    title: '🚇 교통',
                    content: `
                        <ul class="space-y-3 list-disc list-inside text-gray-700">
                            <li><strong>지하철:</strong> 4호선 대야미역 도보 이용 가능한 역세권. 과천, 사당, 서울역 등 환승 없이 이동.</li>
                            <li><strong>주요 업무지구 접근성:</strong> 강남 약 45~50분, 여의도 약 50~55분 소요.</li>
                            <li><strong>도로망:</strong> 영동고속도로 군포IC, 평택파주고속도로 남군포IC 인접.</li>
                            <li><strong>🚀 미래 교통 호재 (GTX-C):</strong> 인근 금정역 정차 예정. 개통 시 삼성역까지 20분 내외로 접근성 획기적 개선.</li>
                        </ul>`
                },
                infra: {
                    title: '🏫 생활/학군',
                    content: `
                        <ul class="space-y-3 list-disc list-inside text-gray-700">
                            <li><strong>학군:</strong> 초등학생은 둔대초등학교 임시 배치 예정 (초품아 아님). 중학생은 군포시중학군, 고등학생은 안양권 배정.</li>
                            <li><strong>생활 인프라:</strong> 지구 내 중심상업용지 계획되어 입주 시점에는 편의시설 확충 기대. 현재 대형마트 등은 차량 10~15분 거리.</li>
                        </ul>`
                },
                environment: {
                    title: '🌳 환경/호재',
                    content: `
                        <ul class="space-y-3 list-disc list-inside text-gray-700">
                            <li><strong>자연환경:</strong> 갈치호수, 반월호수, 수리산 도립공원 인접한 숲세권.</li>
                            <li><strong>개발 호재:</strong> 군포 대야미 공공주택지구 사업 자체가 호재이며, 인근 의왕군포안산 공공주택지구 추진으로 신흥 주거타운으로 변모 전망.</li>
                        </ul>`
                }
            };
            
            let priceChartInstance, supplyChartInstance;
            let currentUnitType = '84A';

            function formatPrice(value) {
                const eok = Math.floor(value / 10000);
                const man = value % 10000;
                return `${eok}억 ${man > 0 ? man.toLocaleString() + '만' : ''} 원`;
            }

            function initTimeline() {
                const container = document.getElementById('timeline-container');
                scheduleData.forEach((item, index) => {
                    const isLeft = index % 2 === 0;
                    const el = document.createElement('div');
                    el.className = `relative flex items-center ${isLeft ? 'justify-start' : 'justify-end'}`;
                    el.innerHTML = `
                        <div class="absolute ${isLeft ? 'right-1/2' : 'left-1/2'} transform ${isLeft ? 'translate-x-1/2' : '-translate-x-1/2'} w-3 h-3 bg-green-500 rounded-full"></div>
                        <div class="w-5/12 p-2 bg-white border border-gray-200 rounded-lg shadow-sm">
                            <p class="text-sm font-semibold">${item.event}</p>
                            <p class="text-xs text-gray-500">${item.date}</p>
                        </div>
                    `;
                    container.appendChild(el);
                });
            }

            function createCharts() {
                const priceCtx = document.getElementById('priceChart').getContext('2d');
                priceChartInstance = new Chart(priceCtx, {
                    type: 'bar',
                    data: {
                        labels: Object.keys(apartmentData),
                        datasets: [{
                            label: '최고 분양가 (만원)',
                            data: Object.values(apartmentData).map(d => d.price),
                            backgroundColor: Object.keys(apartmentData).map(key => key === currentUnitType ? '#6D8B74' : '#E5E1DA'),
                            borderColor: Object.keys(apartmentData).map(key => key === currentUnitType ? '#556B2F' : '#D4CBBF'),
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.dataset.label}: ${context.parsed.y.toLocaleString()} 만원`;
                                    }
                                }
                            }
                        },
                        scales: { y: { beginAtZero: true, ticks: { callback: (value) => `${(value/10000).toFixed(1)}억` } } }
                    }
                });

                const supplyCtx = document.getElementById('supplyChart').getContext('2d');
                supplyChartInstance = new Chart(supplyCtx, {
                    type: 'bar',
                    data: {
                        labels: Object.keys(apartmentData),
                        datasets: [
                            {
                                label: '특별공급',
                                data: Object.values(apartmentData).map(d => d.special),
                                backgroundColor: '#A47E3B',
                            },
                            {
                                label: '일반공급',
                                data: Object.values(apartmentData).map(d => d.general),
                                backgroundColor: '#D4CBBF',
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { position: 'top' } },
                        scales: { x: { stacked: true }, y: { stacked: true, beginAtZero: true } }
                    }
                });
            }

            function updateUI(unitType) {
                currentUnitType = unitType;

                priceChartInstance.data.datasets[0].backgroundColor = Object.keys(apartmentData).map(key => key === unitType ? '#6D8B74' : '#E5E1DA');
                 priceChartInstance.data.datasets[0].borderColor = Object.keys(apartmentData).map(key => key === unitType ? '#556B2F' : '#D4CBBF');
                priceChartInstance.update();

                const details = apartmentData[unitType];
                const priceTable = document.getElementById('priceDetails');
                priceTable.innerHTML = `
                    <tr class="bg-white border-b">
                        <td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">최고 분양가</td>
                        <td class="px-6 py-4 text-right">${formatPrice(details.price)}</td>
                    </tr>
                    <tr class="bg-white border-b">
                        <td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">계약금 (10%)</td>
                        <td class="px-6 py-4 text-right">${formatPrice(details.price * 0.1)}</td>
                    </tr>
                    <tr class="bg-white border-b">
                        <td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">중도금 (60%)</td>
                        <td class="px-6 py-4 text-right">${formatPrice(details.price * 0.6)}</td>
                    </tr>
                    <tr class="bg-white">
                        <td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">잔금 (30%)</td>
                        <td class="px-6 py-4 text-right">${formatPrice(details.price * 0.3)}</td>
                    </tr>
                `;

                document.querySelectorAll('#unitTypeButtons button').forEach(btn => {
                    btn.classList.toggle('bg-green-600', btn.dataset.type === unitType);
                    btn.classList.toggle('text-white', btn.dataset.type === unitType);
                    btn.classList.toggle('bg-white', btn.dataset.type !== unitType);
                     btn.classList.toggle('text-gray-700', btn.dataset.type !== unitType);
                });
            }

            function initUnitTypeButtons() {
                const container = document.getElementById('unitTypeButtons');
                Object.keys(apartmentData).forEach((type, index) => {
                    const button = document.createElement('button');
                    button.type = 'button';
                    button.dataset.type = type;
                    button.textContent = `${type} 타입`;
                    button.className = `py-2 px-4 text-sm font-medium focus:z-10 focus:ring-2 focus:ring-green-500 ${
                        index === 0 ? 'rounded-l-lg' : ''} ${
                        index === Object.keys(apartmentData).length - 1 ? 'rounded-r-lg' : ''} ${
                        type === currentUnitType ? 'bg-green-600 text-white' : 'bg-white text-gray-700'} border border-gray-200 hover:bg-gray-100`;
                    button.addEventListener('click', () => updateUI(type));
                    container.appendChild(button);
                });
            }

            function initLocationTabs() {
                const tabsContainer = document.getElementById('locationTabs');
                const contentContainer = document.getElementById('locationContent');
                
                Object.entries(locationData).forEach(([key, value], index) => {
                    const tabButton = document.createElement('button');
                    tabButton.dataset.tab = key;
                    tabButton.className = `tab-btn whitespace-nowrap py-2 px-2 sm:px-4 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 ${index === 0 ? 'active' : ''}`;
                    tabButton.textContent = value.title;
                    tabsContainer.appendChild(tabButton);
                });

                tabsContainer.addEventListener('click', (e) => {
                    if (e.target.tagName === 'BUTTON') {
                        const tabKey = e.target.dataset.tab;
                        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                        e.target.classList.add('active');
                        contentContainer.innerHTML = locationData[tabKey].content;
                    }
                });
                
                contentContainer.innerHTML = locationData.transport.content;
            }

            function initEligibilityChecker() {
                const supplyType = document.getElementById('supplyType');
                const specialTypeContainer = document.getElementById('specialTypeContainer');
                const specialType = document.getElementById('specialType');
                const commonQuestions = document.getElementById('commonQuestions');
                const specialQuestions = document.getElementById('specialQuestions');
                const marriageStatusContainer = document.getElementById('marriageStatusContainer');
                const marriageDurationContainer = document.getElementById('marriageDurationContainer');
                const taxHistoryContainer = document.getElementById('taxHistoryContainer');
                const checkButton = document.getElementById('checkButton');
                const resultContainer = document.getElementById('resultContainer');

                supplyType.addEventListener('change', () => {
                    const selected = supplyType.value;
                    resultContainer.classList.add('hidden');
                    specialType.value = '';
                    if (selected === 'special') {
                        specialTypeContainer.classList.remove('hidden');
                        commonQuestions.classList.add('hidden');
                        specialQuestions.classList.add('hidden');
                    } else if (selected === 'general') {
                        specialTypeContainer.classList.add('hidden');
                        commonQuestions.classList.remove('hidden');
                        specialQuestions.classList.add('hidden');
                    } else {
                        specialTypeContainer.classList.add('hidden');
                        commonQuestions.classList.add('hidden');
                        specialQuestions.classList.add('hidden');
                    }
                });

                specialType.addEventListener('change', () => {
                    const selected = specialType.value;
                    resultContainer.classList.add('hidden');
                    commonQuestions.classList.remove('hidden');
                    specialQuestions.classList.remove('hidden');

                    marriageDurationContainer.classList.toggle('hidden', selected !== 'newlywed');
                    taxHistoryContainer.classList.toggle('hidden', selected !== 'firstTime');
                    marriageStatusContainer.classList.toggle('hidden', selected !== 'firstTime');
                });

                checkButton.addEventListener('click', () => {
                    const sType = supplyType.value;
                    const spType = specialType.value;
                    
                    const residence = document.getElementById('residence').value;
                    const isHomeless = document.getElementById('isHomeless').value;
                    const subscriptionPeriod = parseInt(document.getElementById('subscriptionPeriod').value) || 0;

                    let messages = [];
                    let eligible = true;

                    if (sType === 'general') {
                        if (residence !== 'gunpo') messages.push('군포시 1년 이상 거주자에게 100% 우선 공급됩니다.');
                        if (isHomeless === 'many') { messages.push('2주택 이상 소유자는 1순위 청약이 불가합니다.'); eligible = false; }
                        if (subscriptionPeriod < 12) { messages.push('일반공급 1순위는 청약통장 가입기간 12개월 이상이 필요합니다.'); eligible = false; }
                    } else if (sType === 'special') {
                        if (isHomeless !== 'yes') { messages.push('특별공급은 무주택 세대구성원만 신청 가능합니다.'); eligible = false; }
                        
                        if (spType === 'newlywed') {
                            const marriageDuration = parseInt(document.getElementById('marriageDuration').value) || 0;
                            if (subscriptionPeriod < 6) { messages.push('신혼부부 특공은 청약통장 6개월 이상 필요합니다.'); eligible = false; }
                            if (marriageDuration > 7 || marriageDuration <= 0) { messages.push('혼인 기간은 7년 이내여야 합니다.'); eligible = false; }
                        } else if (spType === 'firstTime') {
                             const taxHistory = document.getElementById('taxHistory').value;
                             const marriageStatus = document.getElementById('marriageStatus').value;
                             if (isHomeless !== 'yes') { messages.push('생애최초 특공은 세대원 전원 무주택이어야 합니다.'); eligible = false; }
                             if (subscriptionPeriod < 12) { messages.push('생애최초 특공은 1순위 요건(12개월 이상)이 필요합니다.'); eligible = false; }
                             if (taxHistory === 'no') { messages.push('과거 5개년도 소득세 납부 이력이 필요합니다.'); eligible = false; }
                             if (marriageStatus === 'single') { messages.push('1인 가구는 추첨제로만 신청 가능하며, 전용 60㎡ 이하 주택형만 가능하여 본 단지에는 청약이 불가합니다.'); eligible = false; }
                        }
                    } else {
                        alert('공급 유형을 선택해주세요.');
                        return;
                    }
                    
                    resultContainer.classList.remove('hidden', 'bg-green-100', 'text-green-800', 'bg-yellow-100', 'text-yellow-800');
                    if (eligible && messages.length === 0) {
                        resultContainer.classList.add('bg-green-100', 'text-green-800');
                        resultContainer.innerHTML = '<p><strong>청약 가능성이 높습니다!</strong><br>입력하신 정보 기준으로 기본 자격 요건을 충족합니다. 상세 소득/자산 기준 등은 반드시 공고문을 확인하세요.</p>';
                    } else {
                         resultContainer.classList.add('bg-yellow-100', 'text-yellow-800');
                         let resultHTML = `<p><strong>확인이 필요합니다.</strong><br>${eligible ? '' : '필수 요건이 충족되지 않았습니다.'}</p><ul class="text-sm list-disc list-inside mt-2">`;
                         messages.forEach(msg => { resultHTML += `<li>${msg}</li>`; });
                         resultHTML += '</ul>';
                         resultContainer.innerHTML = resultHTML;
                    }
                });
            }

            function initNavScroll() {
                const header = document.querySelector('header');
                const headerHeight = header ? header.offsetHeight : 64;
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const targetEl = document.querySelector(this.getAttribute('href'));
                        if (targetEl) {
                            const elementPosition = targetEl.getBoundingClientRect().top;
                            const offsetPosition = elementPosition + window.pageYOffset - headerHeight;
                            
                            window.scrollTo({
                                top: offsetPosition,
                                behavior: "smooth"
                            });
                        }
                    });
                });
            }

            initTimeline();
            initUnitTypeButtons();
            createCharts();
            updateUI(currentUnitType);
            initLocationTabs();
            initEligibilityChecker();
            initNavScroll();
        });
    </script>
</body>
</html>
